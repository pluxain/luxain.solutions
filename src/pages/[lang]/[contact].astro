---
import type { GetStaticPaths } from "astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import * as m from "@messages/messages";
import { availableLanguageTags } from "@messages/runtime";

const pageTitle = m.contact_title();
const description = m.contact_description();

export const getStaticPaths = (async () => {
  return availableLanguageTags.map((lang) => ({
    params: { lang, contact: m.contact_slug(undefined, { languageTag: lang }) },
  }));
}) satisfies GetStaticPaths;
---

<BaseLayout description={description} pageTitle={pageTitle}>
  <section class="flex w-full grow flex-col justify-center md:m-auto md:w-96">
    <h1
      class="py-10 text-center text-3xl font-bold [font-variant-caps:small-caps]"
    >
      {pageTitle}
    </h1>
    <form action="#" method="get" novalidate class="flex flex-col gap-4">
      <fieldset class="flex flex-col gap-4">
        <div class="flex flex-col gap-2">
          <label for="from" class="font-bold">
            {m.contact_form_label_from()}
          </label>
          <input
            type="email"
            name="from"
            id="from"
            required
            class="grow border-b pb-1 outline-none focus:border-b-2 focus:border-primary"
          />
        </div>
        <div class="flex flex-col gap-2">
          <label for="subject" class="font-bold">
            {m.contact_form_label_subject()}
          </label>
          <input
            type="text"
            name="subject"
            id="subject"
            required
            class="grow border-b pb-1 outline-none focus:border-b-2 focus:border-primary"
          />
        </div>
        <div class="flex flex-col gap-2">
          <label for="message" class="font-bold">
            {m.contact_form_label_message()}
          </label>
          <textarea
            name="message"
            id="message"
            required
            class="h-32 grow resize-y border-b py-1 outline-none focus:border-b-2 focus:border-primary"
          ></textarea>
        </div>
      </fieldset>
      <fieldset class="flex flex-row justify-end">
        <button
          type="submit"
          class="grow bg-primary-flip px-4 py-2 text-primary-flip hover:bg-success-flip hover:text-success-flip"
        >
          {m.contact_form_submit()}
        </button>
      </fieldset>
    </form>
  </section>
</BaseLayout>
